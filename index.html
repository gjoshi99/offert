<!doctype html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Skapa Offert — Offerter & kvitton som PDF</title>
  <meta name="description" content="Skapa kvitto och offert direkt i webben. Exportera som PDF med ett klick." />

  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
  <link rel="stylesheet" href="./index.css">
</head>
<body>
  <header class="topbar">
    <div class="container topbar-inner">
      <a class="brand" href="#top" aria-label="Skapa Offert">
        <svg width="34" height="34" viewBox="0 0 64 64" aria-hidden="true">
          <defs>
            <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="#22c55e"/>
              <stop offset="1" stop-color="#38bdf8"/>
            </linearGradient>
          </defs>
          <rect x="6" y="6" width="52" height="52" rx="14" fill="url(#g)" opacity="0.95"/>
          <path d="M22 20h18a4 4 0 0 1 4 4v22a4 4 0 0 1-4 4H22a4 4 0 0 1-4-4V24a4 4 0 0 1 4-4z"
                fill="rgba(255,255,255,.92)"/>
          <path d="M26 28h14M26 34h14M26 40h10" stroke="rgba(7,11,20,.75)" stroke-width="3" stroke-linecap="round"/>
        </svg>
        <span>SKAPA OFFERT</span>
      </a>

    <nav>
        <a href="#kontakt">Kontakt</a>
        <a href="/data.html">Data</a>
    </nav>
    </div>
  </header>

  <main id="top" class="container">
    <section class="hero">
      <div class="hero-grid">
        <div>
          <div class="pill">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M12 2a10 10 0 100 20 10 10 0 000-20zm1 10.4l3.2 3.2-1.4 1.4L11 13V6h2v6.4z"/>
            </svg>
            Skapa • Exportera • Spara som PDF
          </div>
          <h1 class="headline">Skapa kvitto eller offert — direkt i webben.</h1>
          <p class="sub">
            Välj vad du vill skapa. Lägg till rader, moms och totalsumma. Exportera till PDF med ett klick.
          </p>
          <div class="cta-row">
            <button class="btn btn-primary" id="openOffer">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path fill="currentColor" d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zM14 3.5L19.5 9H14V3.5z"/>
              </svg>
              Skapa offert
            </button>
            <button class="btn" id="openReceipt">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path fill="currentColor" d="M6 2h12v20l-2-1-2 1-2-1-2 1-2-1-2 1V2zm3 6h6v2H9V8zm0 4h6v2H9v-2z"/>
              </svg>
              Skapa kvitto
            </button>
          </div>
        </div>

        <aside class="card" style="padding:16px;">
          <div style="display:flex;gap:10px;flex-wrap:wrap;margin-bottom:12px;">
            <span class="pill" style="margin:0;">PDF-export</span>
            <span class="pill" style="margin:0;">Moms & total</span>
            <span class="pill" style="margin:0;">Rader</span>
          </div>
          <div style="color:var(--muted);line-height:1.6;">
            <div style="font-weight:850;color:var(--text);margin-bottom:6px;">Tips</div>
            Använd samma radsystem för både kvitto och offert. Det gör PDF:en enhetlig och enkel.
          </div>
        </aside>
      </div>
    </section>

    <section class="cards" id="funktioner">
      <div class="cards-grid">
        <article class="card">
          <div class="card-media">
            <div class="illus-frame">
              <svg width="260" height="140" viewBox="0 0 260 140" aria-hidden="true">
                <path d="M70 16h120v108l-10-6-10 6-10-6-10 6-10-6-10 6-10-6-10 6-10-6-10 6V16z"
                      fill="rgba(255,255,255,.92)"/>
                <path d="M92 34h76M92 46h56M92 58h84M92 70h64M92 92h84"
                      stroke="rgba(7,11,20,.55)" stroke-width="5" stroke-linecap="round"/>
                <circle cx="178" cy="46" r="6" fill="rgba(34,197,94,.85)"/>
              </svg>
            </div>
          </div>
          <div class="card-body">
            <h3 class="card-title">Skapa kvitto</h3>
            <p class="card-desc">Bygg ett kvitto med rader, datum, betalmetod och moms. Exportera som PDF.</p>
            <div class="card-actions">
              <button class="btn btn-primary" id="openReceipt2">Skapa kvitto</button>
            </div>
          </div>
        </article>

        <article class="card">
          <div class="card-media">
            <div class="illus-frame">
              <svg width="260" height="140" viewBox="0 0 260 140" aria-hidden="true">
                <path d="M86 18h88l26 26v78a10 10 0 0 1-10 10H86a10 10 0 0 1-10-10V28a10 10 0 0 1 10-10z"
                      fill="rgba(255,255,255,.92)"/>
                <path d="M174 18v26h26" fill="rgba(56,189,248,.35)"/>
                <rect x="90" y="78" width="120" height="34" rx="12" fill="rgba(239,68,68,.90)"/>
                <text x="150" y="101" text-anchor="middle" font-size="18" font-weight="800" fill="white">PDF</text>
                <path d="M104 46h74M104 58h56" stroke="rgba(7,11,20,.55)" stroke-width="5" stroke-linecap="round"/>
              </svg>
            </div>
          </div>
          <div class="card-body">
            <h3 class="card-title">Skapa offert</h3>
            <p class="card-desc">Skapa offert med kunduppgifter, rader och moms. Exportera som PDF.</p>
            <div class="card-actions">
              <button class="btn btn-primary" id="openOffer2">Skapa offert</button>
            </div>
          </div>
        </article>
      </div>
    </section>

    <footer id="kontakt">
      <div class="container">
        © <span id="year"></span> Skapa Offert • Kvitto & offertgenerator
      </div>
    </footer>
  </main>

  <!-- Receipt Modal -->
  <div class="backdrop" id="receiptBackdrop" role="dialog" aria-modal="true" aria-label="Skapa kvitto">
    <div class="modal">
      <div class="modal-header">
        <div>
          <h3 class="modal-title">Skapa kvitto</h3>
          <p class="modal-sub">Fyll i uppgifter, lägg till rader och exportera till PDF.</p>
        </div>
        <button class="btn" id="closeReceipt">Stäng</button>
      </div>

      <div class="modal-body">
        <div class="grid">
          <div class="field">
            <label>Butik / Företag</label>
            <input id="r_store" placeholder="Ex: Securitas AB" />
          </div>
          <div class="field">
            <label>Datum</label>
            <input id="r_date" type="date" />
          </div>
          <div class="field">
            <label>Betalmetod</label>
            <select id="r_pay">
              <option>Kort</option>
              <option>Swish</option>
              <option>Kontant</option>
              <option>Faktura</option>
            </select>
          </div>
          <div class="field">
            <label>Valuta</label>
            <select id="r_currency">
              <option value="SEK">SEK</option>
              <option value="EUR">EUR</option>
              <option value="USD">USD</option>
            </select>
          </div>
          <div class="field" style="grid-column: 1 / -1;">
            <label>Notering (valfritt)</label>
            <textarea id="r_note" placeholder="Ex: Tack för ditt köp!"></textarea>
          </div>
        </div>

        <div class="lines">
          <div class="lines-head">
            <strong>Rader</strong>
            <button class="btn" id="r_addLine">+ Lägg till rad</button>
          </div>

          <table class="lines-table">
            <thead>
              <tr>
                <th style="width:44%;">Beskrivning</th>
                <th style="width:14%;">Antal</th>
                <th style="width:18%;">Pris</th>
                <th style="width:14%;">Moms %</th>
                <th class="right" style="width:10%;">Ta bort</th>
              </tr>
            </thead>
            <tbody id="r_lines"></tbody>
          </table>
        </div>

        <div class="totals" id="r_totals">
          <div class="totals-row"><span>Subtotal</span><span id="r_sub">0.00</span></div>
          <div class="totals-row"><span>Moms</span><span id="r_vat">0.00</span></div>
          <div class="totals-row total"><span>Total</span><span id="r_total">0.00</span></div>
        </div>
      </div>

      <div class="modal-footer">
        <span class="hint">PDF export sker lokalt i webbläsaren.</span>
        <div style="display:flex;gap:10px;flex-wrap:wrap;">
          <button class="btn btn-danger" id="r_reset">Rensa</button>
          <button class="btn btn-primary" id="r_pdf">Spara kvitto (PDF)</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Offer Modal -->
  <div class="backdrop" id="offerBackdrop" role="dialog" aria-modal="true" aria-label="Skapa offert">
    <div class="modal">
      <div class="modal-header">
        <div>
          <h3 class="modal-title">Skapa offert</h3>
          <p class="modal-sub">Fyll i kund, lägg till rader och exportera till PDF.</p>
        </div>
        <button class="btn" id="closeOffer">Stäng</button>
      </div>

        <div class="field" style="margin-bottom:14px;">
        <label>Logotyp (valfri)</label>
        <input type="file" id="logoUpload" accept="image/png,image/jpeg,image/svg+xml" />
        <small style="color:rgba(255,255,255,.55);">
            Visas högst upp i PDF (PNG/SVG rekommenderas)
        </small>
        </div>
      <div class="modal-body">
        <div class="grid">
          <div class="field">
            <label>Ditt företag</label>
            <input id="o_company" placeholder="Ex: Securitas AB" />
          </div>
          <div class="field">
            <label>Offertnummer</label>
            <input id="o_no" placeholder="Ex: OFF-1001" />
          </div>
          <div class="field">
            <label>Kund</label>
            <input id="o_customer" placeholder="Ex: Kund AB" />
          </div>
          <div class="field">
            <label>Datum</label>
            <input id="o_date" type="date" />
          </div>
          <div class="field" style="grid-column: 1 / -1;">
            <label>Villkor (valfritt)</label>
            <textarea id="o_terms" placeholder="Ex: Giltig 14 dagar. Betalning 10 dagar."></textarea>
          </div>
        </div>

        <div class="lines">
          <div class="lines-head">
            <strong>Rader</strong>
            <button class="btn" id="o_addLine">+ Lägg till rad</button>
          </div>

          <table class="lines-table">
            <thead>
              <tr>
                <th style="width:44%;">Beskrivning</th>
                <th style="width:14%;">Antal</th>
                <th style="width:18%;">Pris</th>
                <th style="width:14%;">Moms %</th>
                <th class="right" style="width:10%;">Ta bort</th>
              </tr>
            </thead>
            <tbody id="o_lines"></tbody>
          </table>
        </div>

        <div class="totals" id="o_totals">
          <div class="totals-row"><span>Subtotal</span><span id="o_sub">0.00</span></div>
          <div class="totals-row"><span>Moms</span><span id="o_vat">0.00</span></div>
          <div class="totals-row total"><span>Total</span><span id="o_total">0.00</span></div>
        </div>
      </div>

      <div class="modal-footer">
        <span class="hint">PDF export sker lokalt i webbläsaren.</span>
        <div style="display:flex;gap:10px;flex-wrap:wrap;">
          <button class="btn btn-danger" id="o_reset">Rensa</button>
          <button class="btn btn-primary" id="o_pdf">Spara Offert (PDF)</button>
        </div>
      </div>
    </div>
  </div>
<script src="./index.js" ></script>
</body>
</html>